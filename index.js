import{a as f,i as w,S as g,N as h,K as b,M as E,b as L}from"./assets/vendor-DqA9Z9jw.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const t of r)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function s(r){const t={};return r.integrity&&(t.integrity=r.integrity),r.referrerPolicy&&(t.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?t.credentials="include":r.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function i(r){if(r.ep)return;r.ep=!0;const t=s(r);fetch(r.href,t)}})();document.addEventListener("DOMContentLoaded",()=>{new Swiper(".swiper",{spaceBetween:0,loop:!0,observer:!0,observeParents:!0,navigation:{nextEl:".swiper-button-next"},keyboard:{enabled:!0,onlyInViewport:!1},breakpoints:{320:{slidesPerView:2},768:{slidesPerView:3},1440:{slidesPerView:6}},on:{slideChangeTransitionEnd:e}});function e(){requestAnimationFrame(()=>{document.querySelectorAll(".swiper-slide").forEach(i=>{i.style.backgroundColor="",i.style.color="white"});const s=document.querySelector(".swiper-slide-active");s&&(s.style.backgroundColor="#c6e327",s.style.color="black")})}e(),document.querySelectorAll(".accordion-item").forEach((s,i)=>{const r=s.querySelector(".accordion-header"),t=s.querySelector(".accordion-content"),a=r.querySelector(".arrow");t.style.overflow="hidden",t.style.transition="max-height 0.3s ease-in-out",i===0?(s.classList.add("active"),t.style.maxHeight=t.scrollHeight+"px",a.style.transform="rotate(180deg)"):(t.style.maxHeight="0",a.style.transform="rotate(0deg)"),r.addEventListener("click",()=>{s.classList.contains("active")?(s.classList.remove("active"),t.style.maxHeight="0",a.style.transform="rotate(0deg)"):(s.classList.add("active"),t.style.maxHeight=t.scrollHeight+"px",a.style.transform="rotate(180deg)")})})});const d={sliderContainer:document.querySelector(".swiper-wrapper-reviews"),slider:document.querySelector(".swiper-reviews"),reviewsSection:document.querySelector("#reviews")},S="https://portfolio-js.b.goit.study/api",x="/reviews",q=async()=>{try{return(await f.get(S+x)).data}catch{return k(),null}},C=()=>{d.sliderContainer.innerHTML='<li class="swiper-placeholder">Not found</li>',d.slider.classList.remove("swiper-reviews")},P=()=>{w.error({title:"Error",message:"Failed to fetch reviews. Please try again later.",position:"bottomRight",timeout:3e3})},k=()=>{const e=new IntersectionObserver(o=>{o.forEach(s=>{s.isIntersecting&&(P(),e.disconnect())})},{threshold:.5});e.observe(d.reviewsSection)},H=e=>e.map(({author:o,avatar_url:s,review:i})=>`
    <li class="reviews-card swiper-slide">
        <img class="reviews-img" src="${s}" alt="${o}" />
        <h3 class="reviews-title">${o}</h3>
        <p class="reviews-text">${i}</p>
      </li>
  `).join(""),m=()=>{const e=document.querySelectorAll(".reviews-card");let o=0;const s=new IntersectionObserver(i=>{const r=i.filter(t=>t.isIntersecting);r.length>1?(e.forEach(t=>t.style.height="auto"),o=Math.max(...r.map(t=>t.target.offsetHeight)),r.forEach(t=>{t.target.style.height=`${o}px`})):e.forEach(t=>t.style.height="auto")},{threshold:.5});e.forEach(i=>s.observe(i))},I=async()=>{const e=await q();if(!e||e.length===0){C();return}d.sliderContainer.innerHTML=H(e),new g(".swiper-reviews",{modules:[h,b,E],slidesPerView:1,spaceBetween:16,speed:500,grabCursor:!0,navigation:{nextEl:".swiper-button-reviews-next",prevEl:".swiper-button-reviews-prev"},keyboard:{enabled:!0,onlyInViewport:!0},mousewheel:{sensitivity:1},breakpoints:{320:{slidesPerView:1,autoHeight:!0},768:{slidesPerView:2,autoHeight:!1},1440:{slidesPerView:4}},on:{init:m,slideChange:m}})};I();document.querySelector(".title-modal");document.querySelector(".text-modal");function M(e){const o=document.getElementById(e);if(!o){iziToast.error({title:"Modal not found:",message:e,position:"center",timeout:1e4});return}o.style.display="flex",document.body.style.overflow="hidden",document.addEventListener("keydown",y),document.addEventListener("click",p)}function u(){const e=document.getElementById("footer-modal");e&&(e.style.display="none",document.body.style.overflow="",document.removeEventListener("keydown",y),document.removeEventListener("click",p))}function y(e){e.key==="Escape"&&u()}function p(e){e.target.id==="footer-modal"&&u()}document.getElementById("close-btn").addEventListener("click",u);const N={form:document.querySelector(".contact-form"),email:document.querySelector(".email"),message:document.querySelector(".message")},{form:l,email:n,message:c}=N,V=f.create({baseURL:"https://portfolio-js.b.goit.study/api"});l.addEventListener("submit",async e=>{e.preventDefault();const o=l.elements.email.value.trim(),s=l.elements.comments.value.trim(),i=await O(o,s);i.status===201?(M(i.data),l.reset(),v()):L.fire({title:"Sorry, an error occurred",text:"Please, correct the data and try again!",color:"#fafafa",background:"#c6e327",width:"300px",timer:4e3,timerProgressBar:!0,customClass:{confirmButton:"custom-ok-button"}})});async function O(e,o){let s;try{s=await V.post("/requests",{email:e,comment:o})}catch(i){console.log(i),s=i}return s}n.addEventListener("input",function(){n.value.length>0?n.validity.valid?(n.classList.remove("error"),n.classList.add("success"),c.textContent="Success!",c.className="message success-text"):(n.classList.remove("success"),n.classList.add("error"),c.textContent="Invalid email, try again",c.className="message error-text"):v()});function v(){n.value="",n.classList.remove("success","error"),c.textContent="",c.className="message"}
//# sourceMappingURL=index.js.map
